From 4bd98052e60c0193b82c2eede69982434e975b8f Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Wed, 24 Mar 2021 08:13:42 -0400
Subject: [PATCH 207/211] Fix NPE with void
 android.view.VelocityTracker.clear()

  from
  https://github.com/crdroidandroid/android_frameworks_base/commit/b57f66ab53af22dd3d4d0d321e3314571335a6dd
---
 core/java/android/widget/ScrollView.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/core/java/android/widget/ScrollView.java b/core/java/android/widget/ScrollView.java
index 62d7e2cd49d..0429e7a55ef 100644
--- a/core/java/android/widget/ScrollView.java
+++ b/core/java/android/widget/ScrollView.java
@@ -799,7 +799,9 @@ public class ScrollView extends FrameLayout {
                     if (overScrollBy(0, deltaY, 0, mScrollY, 0, range, 0, mOverscrollDistance, true)
                             && !hasNestedScrollingParent()) {
                         // Break our velocity if we hit a scroll barrier.
-                        mVelocityTracker.clear();
+                        if (mVelocityTracker != null) {
+                            mVelocityTracker.clear();
+                        }
                     }
 
                     final int scrolledDeltaY = mScrollY - oldY;
-- 
2.17.1

