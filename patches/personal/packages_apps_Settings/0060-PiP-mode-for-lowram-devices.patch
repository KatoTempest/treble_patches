From a0b9e2cc9d11f9e8e1433e6302b18243f4edbf00 Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Mon, 15 Feb 2021 14:42:13 -0500
Subject: [PATCH 60/61] PiP mode for lowram devices

  coop with @AkiraNoSushi

Change-Id: I922bea99af4cdb819ec011a915b3e5f8e5b371dd
---
 .../pictureinpicture/PictureInPictureController.java          | 3 +--
 .../PictureInPictureScreenPreferenceController.java           | 4 +---
 2 files changed, 2 insertions(+), 5 deletions(-)

diff --git a/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureController.java b/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureController.java
index fa8afc96a0..605b9d8b8c 100644
--- a/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureController.java
+++ b/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureController.java
@@ -30,8 +30,7 @@ public class PictureInPictureController extends BasePreferenceController {
 
     @Override
     public int getAvailabilityStatus() {
-        return !ActivityManager.isLowRamDeviceStatic()
-                && mContext.getPackageManager().hasSystemFeature(
+        return mContext.getPackageManager().hasSystemFeature(
                 PackageManager.FEATURE_PICTURE_IN_PICTURE) ? AVAILABLE : UNSUPPORTED_ON_DEVICE;
     }
 }
diff --git a/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureScreenPreferenceController.java b/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureScreenPreferenceController.java
index def600848d..12056c3e60 100644
--- a/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureScreenPreferenceController.java
+++ b/src/com/android/settings/applications/specialaccess/pictureinpicture/PictureInPictureScreenPreferenceController.java
@@ -30,8 +30,6 @@ public class PictureInPictureScreenPreferenceController extends BasePreferenceCo
 
     @Override
     public int getAvailabilityStatus() {
-        return !ActivityManager.isLowRamDeviceStatic()
-                ? AVAILABLE
-                : UNSUPPORTED_ON_DEVICE;
+        return AVAILABLE;
     }
 }
-- 
2.17.1

