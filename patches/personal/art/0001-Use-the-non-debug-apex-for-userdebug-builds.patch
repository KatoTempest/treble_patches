From 0e5a4a817a7f355897124d1db2a7241b424dfced Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Sat, 20 Mar 2021 16:07:02 -0400
Subject: [PATCH 1/5] Use the non-debug apex for userdebug builds

  from
  https://github.com/LineageOS/android_art/commit/fd08014668e71c5db46eed7bbf1cdf23c0a7a3e0

Change-Id: I438f15fa4c975d29067caf13b72a95efd417909e
---
 Android.mk | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Android.mk b/Android.mk
index d4de2e5a18..c31d598fd4 100644
--- a/Android.mk
+++ b/Android.mk
@@ -293,7 +293,7 @@ include $(CLEAR_VARS)
 #
 # The ART APEX module (`com.android.art`) is an "alias" for either the
 # release or the debug module. By default, "user" build variants contain
-# the release module, while "userdebug" and "eng" build variants contain
+# the release module, while "eng" build variants contain
 # the debug module. However, if `PRODUCT_ART_TARGET_INCLUDE_DEBUG_BUILD`
 # is defined, it overrides the previous logic:
 # - if `PRODUCT_ART_TARGET_INCLUDE_DEBUG_BUILD` is set to `false`, the
@@ -304,7 +304,7 @@ include $(CLEAR_VARS)
 
 art_target_include_debug_build := $(PRODUCT_ART_TARGET_INCLUDE_DEBUG_BUILD)
 ifneq (false,$(art_target_include_debug_build))
-  ifneq (,$(filter userdebug eng,$(TARGET_BUILD_VARIANT)))
+  ifneq (,$(filter eng,$(TARGET_BUILD_VARIANT)))
     art_target_include_debug_build := true
   endif
 endif
-- 
2.30.2

