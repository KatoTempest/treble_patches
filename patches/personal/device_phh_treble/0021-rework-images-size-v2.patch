From 88ecd6fb809771bbd9a14c4dd65eb632a52e85a2 Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Tue, 7 Jul 2020 16:21:34 +0300
Subject: [PATCH 21/22] rework images size v2

---
 phhgsi_a64_a/BoardConfig.mk    | 5 ++++-
 phhgsi_a64_ab/BoardConfig.mk   | 5 ++++-
 phhgsi_arm64_a/BoardConfig.mk  | 3 +++
 phhgsi_arm64_ab/BoardConfig.mk | 4 ++--
 phhgsi_arm_a/BoardConfig.mk    | 4 ++--
 phhgsi_arm_ab/BoardConfig.mk   | 3 +++
 6 files changed, 18 insertions(+), 6 deletions(-)

diff --git a/phhgsi_a64_a/BoardConfig.mk b/phhgsi_a64_a/BoardConfig.mk
index d430bf8..39b7105 100644
--- a/phhgsi_a64_a/BoardConfig.mk
+++ b/phhgsi_a64_a/BoardConfig.mk
@@ -2,7 +2,10 @@ include build/make/target/board/generic_arm_ab/BoardConfig.mk
 include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
-BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1572864000
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1073741824
+else
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
+
 TARGET_USES_64_BIT_BINDER := true
 BOARD_SYSTEMIMAGE_AS_SYSTEM := true
diff --git a/phhgsi_a64_ab/BoardConfig.mk b/phhgsi_a64_ab/BoardConfig.mk
index b14acfa..df82068 100644
--- a/phhgsi_a64_ab/BoardConfig.mk
+++ b/phhgsi_a64_ab/BoardConfig.mk
@@ -2,6 +2,9 @@ include build/make/target/board/generic_arm_ab/BoardConfig.mk
 include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
-BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1572864000
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1073741824
+else
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
+
 TARGET_USES_64_BIT_BINDER := true
diff --git a/phhgsi_arm64_a/BoardConfig.mk b/phhgsi_arm64_a/BoardConfig.mk
index c9bc831..3a958b0 100644
--- a/phhgsi_arm64_a/BoardConfig.mk
+++ b/phhgsi_arm64_a/BoardConfig.mk
@@ -3,5 +3,8 @@ include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
 BOARD_SYSTEMIMAGE_PARTITION_SIZE := 2080374784
+else
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
+
 BOARD_SYSTEMIMAGE_AS_SYSTEM := true
diff --git a/phhgsi_arm64_ab/BoardConfig.mk b/phhgsi_arm64_ab/BoardConfig.mk
index d987213..efd4869 100644
--- a/phhgsi_arm64_ab/BoardConfig.mk
+++ b/phhgsi_arm64_ab/BoardConfig.mk
@@ -2,7 +2,7 @@ include build/make/target/board/generic_arm64_ab/BoardConfig.mk
 include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
-BOARD_SYSTEMIMAGE_PARTITION_SIZE := 2147483648
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 2080374784
 else
-BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 33554432
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
diff --git a/phhgsi_arm_a/BoardConfig.mk b/phhgsi_arm_a/BoardConfig.mk
index 7340fc4..d95cb04 100644
--- a/phhgsi_arm_a/BoardConfig.mk
+++ b/phhgsi_arm_a/BoardConfig.mk
@@ -2,9 +2,9 @@ include build/make/target/board/generic_arm_ab/BoardConfig.mk
 include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
-BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1313583104
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1073741824
 else
-BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 25165824
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
 
 TARGET_USES_64_BIT_BINDER := false
diff --git a/phhgsi_arm_ab/BoardConfig.mk b/phhgsi_arm_ab/BoardConfig.mk
index a9a4fe3..6bcf890 100644
--- a/phhgsi_arm_ab/BoardConfig.mk
+++ b/phhgsi_arm_ab/BoardConfig.mk
@@ -3,5 +3,8 @@ include device/phh/treble/board-base.mk
 
 ifeq ($(BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE),)
 BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1073741824
+else
+BOARD_SYSTEMIMAGE_PARTITION_RESERVED_SIZE := 8388608
 endif
+
 TARGET_USES_64_BIT_BINDER := false
-- 
2.17.1

