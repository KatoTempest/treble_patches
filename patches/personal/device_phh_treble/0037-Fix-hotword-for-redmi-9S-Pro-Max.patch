From 01d3c3f1f2418e347fa71c395bf116b648d0fec3 Mon Sep 17 00:00:00 2001
From: sooti <sooti85@gmail.com>
Date: Tue, 20 Jul 2021 13:51:24 +0300
Subject: [PATCH 37/40] Fix hotword for redmi 9S/Pro/Max

---
 rw-system.sh | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/rw-system.sh b/rw-system.sh
index 09db5b8..6e97313 100644
--- a/rw-system.sh
+++ b/rw-system.sh
@@ -764,6 +764,17 @@ if [ -f /system/phh/secure ];then
     setprop ctl.restart adbd
 fi
 
+# Fix the google hotword detection for android 11 on redmi note 9s
+if getprop ro.vendor.build.fingerprint |grep -qi -e redmi/curtana; then
+     resetprop_phh ro.product.model "Note 9S"
+fi
+if getprop ro.vendor.build.fingerprint |grep -qi -e redmi/joyeuse; then
+     resetprop_phh ro.product.model "Note 9S Pro"
+fi
+if getprop ro.vendor.build.fingerprint |grep -qi -e redmi/excalibur; then
+     resetprop_phh ro.product.model "Note 9S Pro Max"
+fi
+
 for abi in "" 64;do
     f=/vendor/lib$abi/libstagefright_foundation.so
     if [ -f "$f" ];then
-- 
2.30.2

